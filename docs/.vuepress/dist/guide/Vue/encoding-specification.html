<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue编码规范 | Blog Jay</title>
    <meta name="description" content="blog site of Jay">
    <link rel="icon" href="/blog/logo.JPG">
    
    <link rel="preload" href="/blog/assets/css/0.styles.7c79c1b4.css" as="style"><link rel="preload" href="/blog/assets/js/app.138107a4.js" as="script"><link rel="preload" href="/blog/assets/js/2.9c3c6729.js" as="script"><link rel="preload" href="/blog/assets/js/11.e3efc461.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.5495f42c.js"><link rel="prefetch" href="/blog/assets/js/12.07a5b79d.js"><link rel="prefetch" href="/blog/assets/js/13.3136cd0b.js"><link rel="prefetch" href="/blog/assets/js/14.6b85f9ce.js"><link rel="prefetch" href="/blog/assets/js/15.de56ee27.js"><link rel="prefetch" href="/blog/assets/js/16.fc879887.js"><link rel="prefetch" href="/blog/assets/js/17.94cd0a37.js"><link rel="prefetch" href="/blog/assets/js/18.cc564e28.js"><link rel="prefetch" href="/blog/assets/js/19.f2e6f53d.js"><link rel="prefetch" href="/blog/assets/js/20.a68fc883.js"><link rel="prefetch" href="/blog/assets/js/21.cbfdb2f0.js"><link rel="prefetch" href="/blog/assets/js/3.f48b7bc9.js"><link rel="prefetch" href="/blog/assets/js/4.2f35b444.js"><link rel="prefetch" href="/blog/assets/js/5.b8809231.js"><link rel="prefetch" href="/blog/assets/js/6.1bc4a71d.js"><link rel="prefetch" href="/blog/assets/js/7.b452bca4.js"><link rel="prefetch" href="/blog/assets/js/8.fca47180.js"><link rel="prefetch" href="/blog/assets/js/9.a0e7ab0d.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.7c79c1b4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Blog Jay</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">home</a></div><div class="nav-item"><a href="/blog/guide/" class="nav-link router-link-active">blog</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/guide/Vue/encoding-specification.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/blog/zh-CN/guide/Vue/encoding-specification.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/lwj1426282929/vue-press-blog.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">home</a></div><div class="nav-item"><a href="/blog/guide/" class="nav-link router-link-active">blog</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/guide/Vue/encoding-specification.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/blog/zh-CN/guide/Vue/encoding-specification.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/lwj1426282929/vue-press-blog.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/guide/Vue/encoding-specification.html" class="active sidebar-link">Vue编码规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#文件-文件夹命名" class="sidebar-link">文件/文件夹命名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#单文件组件" class="sidebar-link">单文件组件</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#紧密耦合的组件" class="sidebar-link">紧密耦合的组件</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#组件名中的单词顺序" class="sidebar-link">组件名中的单词顺序</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#组件名应倾向于完整单词" class="sidebar-link">组件名应倾向于完整单词</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#在模板中使用组件" class="sidebar-link">在模板中使用组件</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#组件内部顺序" class="sidebar-link">组件内部顺序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#script-顺序" class="sidebar-link">script 顺序</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#空行" class="sidebar-link">空行</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#元素" class="sidebar-link">元素</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#自闭合" class="sidebar-link">自闭合</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#多特性元素" class="sidebar-link">多特性元素</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#元素特性顺序" class="sidebar-link">元素特性顺序</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#组件属性-props" class="sidebar-link">组件属性 Props</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#props-大小写" class="sidebar-link">Props 大小写</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#props-定义" class="sidebar-link">Props 定义</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#指令" class="sidebar-link">指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#缩写" class="sidebar-link">缩写</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#指令使用注意" class="sidebar-link">指令使用注意</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#组件通信" class="sidebar-link">组件通信</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#单向数据流" class="sidebar-link">单向数据流</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#使用引用属性" class="sidebar-link">使用引用属性</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#vuex" class="sidebar-link">vuex</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#style-样式" class="sidebar-link">style 样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#为组件样式设置作用域" class="sidebar-link">为组件样式设置作用域</a></li><li class="sidebar-sub-header"><a href="/blog/guide/Vue/encoding-specification.html#尽量使用类选择器" class="sidebar-link">尽量使用类选择器</a></li></ul></li></ul></li><li><a href="/blog/guide/Vue/project-optimization.html" class="sidebar-link">优化 Vue 项目</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue编码规范"><a href="#vue编码规范" aria-hidden="true" class="header-anchor">#</a> Vue编码规范</h1> <h2 id="文件-文件夹命名"><a href="#文件-文件夹命名" aria-hidden="true" class="header-anchor">#</a> 文件/文件夹命名</h2> <h3 id="单文件组件"><a href="#单文件组件" aria-hidden="true" class="header-anchor">#</a> 单文件组件</h3> <p>个人推荐 <code>kebab-case</code>。因为在每个文件夹下有 index.vue 或 index.js时更容易查找。</p> <p>官方认为单文件组件应以 <code>PascalCase</code> 方式命名，即始终是单词大写开头(大驼峰)。单词大写开头对于代码编辑器的自动补全最为友好，因为这使得我们在 JS(X)和模板中引用组件的方式尽可能一致。</p> <p>然而，混用文件命名方式有的时候会导致大小写不敏感的文件系统的问题，例如这也是横线连接命名( <code>kebab-case</code> )同样完全可取的原因。</p> <p>例如： Base.vue 和 base.vue 在 Linux 系统上是两个不同的文件， 但在 windows 上因为大小写不敏感， 会被认为是同一个文件。</p> <p>文件夹与文件类似， 推荐使用 <code>kebab-case</code> 或 <code>PascalCase</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>components/
    |- MyComponent.vue          # 官方推荐写法

components/
    |- my-component.vue         # 个人更推荐该写法, 可以避免系统大小写敏感问题

components/
    |- myComponent.vue          # 不推荐

components/
    |- mycomponent.vue          # 极不推荐
</code></pre></div><h3 id="紧密耦合的组件"><a href="#紧密耦合的组件" aria-hidden="true" class="header-anchor">#</a> 紧密耦合的组件</h3> <p>和父组件紧密耦合的子组件应该以父组件名作为前缀命名。</p> <p>如果一个组件只在某个父组件的场景下有意义，这层关系应该体现在其名字上。因为编辑器通常会按字母顺序组织文件，所以这样做可以把相关联的文件排在一起。或者通过不通的文件夹关联在一起。</p> <div class="language- extra-class"><pre class="language-text"><code>components/
    |- todo-list/
       |- index.vue
       |- todo-list-button.vue
       |- todo-list-item.vue
</code></pre></div><h2 id="组件名中的单词顺序"><a href="#组件名中的单词顺序" aria-hidden="true" class="header-anchor">#</a> 组件名中的单词顺序</h2> <p>组件名应该以高级别的 (通常是一般化描述的) 单词开头，以描述性的修饰词结尾。</p> <div class="language- extra-class"><pre class="language-text"><code>components/
    |- search-button-clear.vue
    |- search-button-run.vue
    |- search-input-query.vue
    |- search-input-exclude-glob.vue
    |- settings-checkbox-terms.vue
    |- settings-checkbox-launch-on-startup.vue
</code></pre></div><h2 id="组件名应倾向于完整单词"><a href="#组件名应倾向于完整单词" aria-hidden="true" class="header-anchor">#</a> 组件名应倾向于完整单词</h2> <p>组件名应该倾向于完整单词而不是缩写。不常用的缩写尤其应该避免。</p> <h2 id="在模板中使用组件"><a href="#在模板中使用组件" aria-hidden="true" class="header-anchor">#</a> 在模板中使用组件</h2> <p>在 JS/JSX 中使用 <code>PascalCase</code>， 但是在其他地方比如 template 中使用 <code>kebab-case</code>，在 DOM 中只能使用 <code>kebab-case</code> 。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">'@/components/my-component'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        MyComponent
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="组件内部顺序"><a href="#组件内部顺序" aria-hidden="true" class="header-anchor">#</a> 组件内部顺序</h2> <p>组件由 template 、 script 、 style 组成。可以有多个 style 。顺序按 template、script、style scoped 、style 排序。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="script-顺序"><a href="#script-顺序" aria-hidden="true" class="header-anchor">#</a> script 顺序</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    props<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">beforeCreate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">beforeMount</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">beforeUpdate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">updated</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">activated</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">deactivated</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">beforeDestroy</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">destroyed</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    watch<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="空行"><a href="#空行" aria-hidden="true" class="header-anchor">#</a> 空行</h2> <p>为了便于阅读， 应在 template 中的模块之间、或多行属性或函数之间适当空行。但单处空行数不宜过多， 推荐单处空行数不超过两行， 可以通过 <a href="http://eslint.cn/" target="_blank" rel="noopener noreferrer">eslint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 设置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// eslint 规则</span>
rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;no-multiple-empty-lines&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;max&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//空行最多不能超过2行</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--大的template模块之间应空行--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module-a</span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module-b</span> <span class="token punctuation">/&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module-c</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    attr_1<span class="token punctuation">:</span> <span class="token punctuation">{</span>           <span class="token comment">// 属性过大应空行</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    attr_2<span class="token punctuation">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">funA</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">funB</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>         <span class="token comment">// 多个函数之间应适当空行</span>
</code></pre></div><h2 id="元素"><a href="#元素" aria-hidden="true" class="header-anchor">#</a> 元素</h2> <h3 id="自闭合"><a href="#自闭合" aria-hidden="true" class="header-anchor">#</a> 自闭合</h3> <p>在单文件组件、字符串模板和 JSX 中没有内容的组件应该是自闭合的。</p> <p>自闭合组件表示它们不仅没有内容，而且刻意没有内容。但是 HTML 并不支持自闭合的自定义元素。</p> <h3 id="多特性元素"><a href="#多特性元素" aria-hidden="true" class="header-anchor">#</a> 多特性元素</h3> <p>多个特性的元素应该分多行撰写，每个特性一行。</p> <p>在 JavaScript 中，用多行分隔对象的多个属性是很常见的最佳实践，因为这样更易读。模板和 JSX 值得我们做相同的考虑。</p> <p>如果使用 vscode, 可以使用 <code>vetur</code> 插件格式化 vue 代码， 设置如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;vetur.format.defaultFormatter.html&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;js-beautify-html&quot;</span><span class="token punctuation">,</span>

<span class="token string">&quot;vetur.format.defaultFormatterOptions&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;wrap_attributes&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;force-aligned&quot;</span>          <span class="token comment">// 属性强制折行对齐, auto为一行展示</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="元素特性顺序"><a href="#元素特性顺序" aria-hidden="true" class="header-anchor">#</a> 元素特性顺序</h3> <p>元素 (包括组件) 的特性应该有统一的顺序。尽管顺序并不能影响代码的实际运行效果， 但为了在开发过程中保持统一的风格， 应尽量保持顺序的一致， 便于代码的维护和阅读。</p> <ul><li>按照指令、属性、事件名来排序，指令放在最前， 属性在指令后面， 事件名在最后。</li> <li>指令、属性和事件名内部按照字段长短排序， 字段越长越靠后。</li> <li>布尔值为true的属性可以简写为属性名， 放在其他属性之前。</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>showTemplate<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>componentSelectedData<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">change-on-select</span> 
              <span class="token attr-name">:color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>color<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">@select</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>select<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    changeOnSelect<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> Boolean<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>，
    
    color<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
        required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'red'</span>
        <span class="token function-variable function">validator</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> val
            <span class="token keyword">return</span> <span class="token string">'red'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="组件属性-props"><a href="#组件属性-props" aria-hidden="true" class="header-anchor">#</a> 组件属性 Props</h2> <h3 id="props-大小写"><a href="#props-大小写" aria-hidden="true" class="header-anchor">#</a> Props 大小写</h3> <p>在组件内申明Props的时候， 其命名应该始终使用 <code>camelCase</code>，而在模板和 JSX 中应该始终使用 <code>kebab-case</code>。</p> <h3 id="props-定义"><a href="#props-定义" aria-hidden="true" class="header-anchor">#</a> Props 定义</h3> <p>Prop 定义应该尽量详细。至少需要指定其类型。</p> <p>细致的 prop 定义有两个好处：</p> <ul><li>它们写明了组件的 API，所以很容易看懂组件的用法；</li> <li>在开发环境下，如果向一个组件提供格式不正确的 prop，Vue 将会告警，以帮助你捕获潜在的错误来源。</li></ul> <h2 id="指令"><a href="#指令" aria-hidden="true" class="header-anchor">#</a> 指令</h2> <h3 id="缩写"><a href="#缩写" aria-hidden="true" class="header-anchor">#</a> 缩写</h3> <p>以指令请尽量使用缩写形式。</p> <table><thead><tr><th style="text-align:center;">指令</th> <th style="text-align:center;">缩写</th></tr></thead> <tbody><tr><td style="text-align:center;">v-bind</td> <td style="text-align:center;">:</td></tr> <tr><td style="text-align:center;">v-on</td> <td style="text-align:center;">@</td></tr> <tr><td style="text-align:center;">v-slot</td> <td style="text-align:center;">#</td></tr></tbody></table> <h3 id="指令使用注意"><a href="#指令使用注意" aria-hidden="true" class="header-anchor">#</a> 指令使用注意</h3> <h4 id="key-必须配合-v-for-使用。"><a href="#key-必须配合-v-for-使用。" aria-hidden="true" class="header-anchor">#</a> key 必须配合 v-for 使用。</h4> <p>在组件上总是必须用 <code>key</code> 配合 <code>v-for</code>，以便维护内部组件及其子树的状态。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>card</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(card, index) in cards<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h4 id="避免-v-if-和-v-for-用在一起"><a href="#避免-v-if-和-v-for-用在一起" aria-hidden="true" class="header-anchor">#</a> 避免 v-if 和 v-for 用在一起</h4> <p>当 Vue 处理指令时，<code>v-for</code> 比 <code>v-if</code> 具有更高的优先级, 所以 <code>v-for</code> 和 <code>v-if</code> 是可以在一起使用的。</p> <p>但是这样会造成不必要的消耗， 只要有一项变了， 哪怕是不需要展示的， Vue 也会重新遍历整个数组， 重新计算渲染。所以一般要自己手动过滤出需要显示的数据在遍历展示。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>card</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(card, index) in cards<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">cards</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> item<span class="token punctuation">.</span>show
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="在一组-v-if-v-else-if-v-else-中使用-key"><a href="#在一组-v-if-v-else-if-v-else-中使用-key" aria-hidden="true" class="header-anchor">#</a> 在一组 v-if / v-else-if / v-else 中使用 key</h4> <p>如果是一组判断 <code>v-if</code> 、 <code>v-else</code> ； 或者 <code>v-if</code> 、 <code>v-else-if</code> 、 <code>v-else</code> ， 并且它们的元素类型相同， 最好使用 <code>key</code> 。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>showTemplate<span class="token punctuation">&quot;</span></span> 
     <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span> 
     <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hide<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h2 id="组件通信"><a href="#组件通信" aria-hidden="true" class="header-anchor">#</a> 组件通信</h2> <h3 id="单向数据流"><a href="#单向数据流" aria-hidden="true" class="header-anchor">#</a> 单向数据流</h3> <p>数据流应是单项的， 即父组件应通过 prop 向子组件传递消息，子组件不能修改 prop ， 而应该通过 emit 向父组件发送一个事件，父组件接收该事件后作出相应操作。</p> <p>ps: emit的事件名应使用 <code>kebab-case</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'change-on-select'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">@change-on-celect</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleChangeOnSelect<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="使用引用属性"><a href="#使用引用属性" aria-hidden="true" class="header-anchor">#</a> 使用引用属性</h3> <p>如果传递的 prop 是一个引用， 即对象或数组， 那么子组件可以对数组或者对象里面的属性进行更改， 数据会同步到父组件， 无需 emit， 因为 prop 传递的是一个引用， 引用其实并没有变化。但是要谨慎使用， 容易造成数据混乱， 不符合单向数据流原则。</p> <h3 id="vuex"><a href="#vuex" aria-hidden="true" class="header-anchor">#</a> vuex</h3> <p>应该优先通过 <code>Vuex</code> 管理全局状态，而不是通过 this.$root 或一个全局事件总线。</p> <h2 id="style-样式"><a href="#style-样式" aria-hidden="true" class="header-anchor">#</a> style 样式</h2> <h3 id="为组件样式设置作用域"><a href="#为组件样式设置作用域" aria-hidden="true" class="header-anchor">#</a> 为组件样式设置作用域</h3> <p>为了避免和其他组件的样式冲突， 需要设置作用域， 一般在 style 标签里直接加 <code>scoped</code> 属性即可。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token comment">/* 具体样式 */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>但是， 有些 class 类名是全局中的， 设置了 <code>scoped</code> 属性后并不能改变外面的全局样式， 这是需要去掉 <code>scoped</code> 属性， 但是为了避免和其他样式冲突， 需要在 template 里加一个 class 包裹该元素， 在 style 中使用包裹的类名作用于目标元素。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>my-conponent-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 具体内容 --&gt;</span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.my-conponent-container</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 具体样式 */</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>或者使用 <code>css module</code>。但是项目必须安装使用 <code>css-loader</code> 。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">module</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token comment">/* 具体样式 */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="尽量使用类选择器"><a href="#尽量使用类选择器" aria-hidden="true" class="header-anchor">#</a> 尽量使用类选择器</h3> <p>在样式中，类选择器比元素选择器更好，因为大量使用元素选择器是很慢的。 特别是在 <code>scoped</code> 样式中。</p> <p>为了给样式设置作用域，Vue 会为元素添加一个独一无二的特性，例如 data-v-f3f3eg9。然后修改选择器，使得在匹配选择器的元素中，只有带这个特性才会真正生效 (比如 button[data-v-f3f3eg9])。</p> <p>问题在于大量的元素和特性组合的选择器 (比如 button[data-v-f3f3eg9]) 会比类和特性组合的选择器 慢，所以应该尽可能选用类选择器。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/9/2019, 11:15:45 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog/guide/Vue/project-optimization.html">
          优化 Vue 项目
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.138107a4.js" defer></script><script src="/blog/assets/js/2.9c3c6729.js" defer></script><script src="/blog/assets/js/11.e3efc461.js" defer></script>
  </body>
</html>
